<div *ngIf="results.length > 0; else noResults">
    <section class="all-products py-5">
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-6 mb-4" *ngFor="let item of results">
            <div class="card h-100 d-flex flex-column">
              <!-- Card Click - Navigate to details -->
              <div style="cursor: pointer;" (click)="viewDetails(item)">
                <img [src]="item.images[0]" class="card-img-top" alt="{{ item.name }}">
                <div class="card-body text-center">
                  <h5 class="card-title">{{ item.name }}</h5>
                  <p class="text-success fw-bold">{{ item.price }} DT</p>
                </div>
              </div>
              <!-- Eye Icon - Open Modal -->
              <div class="card-footer p-0 mt-auto d-flex">
                <button class="btn btn-outline-secondary btn-custom" (click)="openDetailsModal(item)">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

<!-- Modal pour les détails d'un Pack -->
<div class="modal fade" id="packDetailsModal" tabindex="-1" aria-labelledby="packDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="packDetailsModalLabel">{{ selectedItem?.name }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-6">
              <img [src]="selectedImage" alt="{{ selectedItem?.name }}" class="img-fluid rounded">
              <div class="image-thumbnails mt-3">
                <img *ngFor="let image of selectedItem?.images" [src]="image" (click)="selectImage(image)" class="thumbnail img-fluid rounded me-2">
              </div>
            </div>
            <div class="col-md-6">
              <h5>Description</h5>
              <p>{{ selectedItem?.description }}</p>
              <h6>Prix : {{ selectedItem?.price }} DT</h6>
              <h6>Dimensions : {{ selectedItem?.dimensions }}</h6>
              <h6>Matériau : {{ selectedItem?.material }}</h6>
              <h6>Couleurs disponibles :</h6>
              <ul>
                <li *ngFor="let color of selectedItem?.colors">{{ color }}</li>
              </ul>
              <div class="mt-4">
                <label for="quantity">Quantité :</label>
                <input type="number" id="quantity" [(ngModel)]="quantity" (change)="validateQuantity()" min="1" class="form-control w-50">
                <div *ngIf="quantityError" class="text-danger">{{ quantityError }}</div>
                <button class="btn btn-primary mt-3" (click)="addPackToCart(selectedItem, quantity)">Ajouter au panier</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal pour les détails d'une Chambre -->
  <div class="modal fade" id="chambreDetailsModal" tabindex="-1" aria-labelledby="chambreDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="chambreDetailsModalLabel">{{ selectedItem?.name }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-6">
              <img [src]="selectedImage" alt="{{ selectedItem?.name }}" class="img-fluid rounded">
              <div class="image-thumbnails mt-3">
                <img *ngFor="let image of selectedItem?.images" [src]="image" (click)="selectImage(image)" class="thumbnail img-fluid rounded me-2">
              </div>
            </div>
            <div class="col-md-6">
              <h5>Description</h5>
              <p>{{ selectedItem?.description }}</p>
              <h6>Prix : {{ selectedItem?.price }} DT</h6>
              <h6>Dimensions : {{ selectedItem?.dimensions }}</h6>
              <h6>Matériau : {{ selectedItem?.material }}</h6>
              <h6>Couleurs disponibles :</h6>
              <ul>
                <li *ngFor="let color of selectedItem?.colors">{{ color }}</li>
              </ul>
              <div class="mt-4">
                <label for="quantity">Quantité :</label>
                <input type="number" id="quantity" [(ngModel)]="quantity" (change)="validateQuantity()" min="1" class="form-control w-50">
                <div *ngIf="quantityError" class="text-danger">{{ quantityError }}</div>
                <button class="btn btn-primary mt-3" (click)="addPackToCart(selectedItem, quantity)">Ajouter au panier</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  

<ng-template #noResults>
    <p>Aucun résultat trouvé.</p>
</ng-template>